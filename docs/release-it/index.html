<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-release-it/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Release It! | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-test-site.com/my-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-test-site.com/my-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/my-docs/docs/release-it/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Release It! | My Site"><meta data-rh="true" name="description" content="1. Padrões de Resiliência:"><meta data-rh="true" property="og:description" content="1. Padrões de Resiliência:"><link data-rh="true" rel="icon" href="/my-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/my-docs/docs/release-it/"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/my-docs/docs/release-it/" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/my-docs/docs/release-it/" hreflang="x-default"><link rel="stylesheet" href="/my-docs/assets/css/styles.d7b72f28.css">
<script src="/my-docs/assets/js/runtime~main.e0d2e841.js" defer="defer"></script>
<script src="/my-docs/assets/js/main.7cebe5e8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/my-docs/"><div class="navbar__logo"><img src="/my-docs/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/my-docs/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/my-docs/docs/pensando-em-sistemas">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/my-docs/docs/pensando-em-sistemas">Pensando em sistemas</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-docs/docs/Apigee/references">Apigee</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-docs/docs/debezium-and-cdc/references">debezium-and-cdc</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/my-docs/docs/release-it/">Release-It</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/my-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Release-It</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Release It!</h1></header><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-padrões-de-resiliência">1. Padrões de Resiliência:<a href="#1-padrões-de-resiliência" class="hash-link" aria-label="Direct link to 1. Padrões de Resiliência:" title="Direct link to 1. Padrões de Resiliência:">​</a></h3>
<p><strong>Circuit Breaker:</strong> Implementa a interrupção de circuito para evitar falhas em cascata.<br>
<strong>Bulkhead:</strong> Isola componentes para evitar que uma falha afete todo o sistema.<br>
<strong>Timeout e Retry:</strong> Estratégias para lidar com operações lentas ou falhas temporárias.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-monitoramento-eficaz">2. Monitoramento Eficaz:<a href="#2-monitoramento-eficaz" class="hash-link" aria-label="Direct link to 2. Monitoramento Eficaz:" title="Direct link to 2. Monitoramento Eficaz:">​</a></h3>
<p>A importância de implementar um sistema de monitoramento robusto para detectar problemas rapidamente.<br>
<!-- -->A necessidade de métricas relevantes e alertas proativos para antecipar possíveis falhas.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-desenvolvimento-orientado-por-metas">3. Desenvolvimento Orientado por Metas:<a href="#3-desenvolvimento-orientado-por-metas" class="hash-link" aria-label="Direct link to 3. Desenvolvimento Orientado por Metas:" title="Direct link to 3. Desenvolvimento Orientado por Metas:">​</a></h3>
<p>A abordagem de pensar nas metas do negócio ao desenvolver software.<br>
<!-- -->Como alinhar o desenvolvimento de software com os objetivos estratégicos da organização.</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Goal-Driven_Software_Development_Process" target="_blank" rel="noopener noreferrer">Wikipedia</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-estudos-de-caso-e-experiências-práticas">4. Estudos de Caso e Experiências Práticas:<a href="#4-estudos-de-caso-e-experiências-práticas" class="hash-link" aria-label="Direct link to 4. Estudos de Caso e Experiências Práticas:" title="Direct link to 4. Estudos de Caso e Experiências Práticas:">​</a></h3>
<p>Lições aprendidas com falhas notáveis em sistemas de grande escala.<br>
<!-- -->Como as organizações lidaram com incidentes e implementaram melhorias.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-gerenciamento-de-incidentes">5. Gerenciamento de Incidentes:<a href="#5-gerenciamento-de-incidentes" class="hash-link" aria-label="Direct link to 5. Gerenciamento de Incidentes:" title="Direct link to 5. Gerenciamento de Incidentes:">​</a></h3>
<p>A importância de uma resposta rápida e coordenada a problemas.<br>
<!-- -->Formação de equipes de resposta a incidentes e implementação de processos eficientes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-garantindo-a-disponibilidade">6. Garantindo a Disponibilidade:<a href="#6-garantindo-a-disponibilidade" class="hash-link" aria-label="Direct link to 6. Garantindo a Disponibilidade:" title="Direct link to 6. Garantindo a Disponibilidade:">​</a></h3>
<p>Estratégias para lidar com tráfego inesperado e picos de demanda.<br>
<!-- -->Atualizações de software sem interrupções e práticas para manter a disponibilidade.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="7-resiliência-em-arquiteturas-distribuídas">7. Resiliência em Arquiteturas Distribuídas:<a href="#7-resiliência-em-arquiteturas-distribuídas" class="hash-link" aria-label="Direct link to 7. Resiliência em Arquiteturas Distribuídas:" title="Direct link to 7. Resiliência em Arquiteturas Distribuídas:">​</a></h3>
<p>Como projetar sistemas que são robustos em ambientes distribuídos.<br>
<!-- -->Considerações para garantir a comunicação eficiente entre componentes distribuídos.</p>
<hr>
<p>Introdução aos Sistemas Antifrágeis:
Nygard introduz a ideia de sistemas antifrágeis, que não apenas resistem a falhas, mas se beneficiam delas para melhorar e evoluir. Ele destaca a importância de não apenas construir sistemas que funcionem, mas também aqueles que podem lidar eficientemente com o inevitável.</p>
<p>Padrões de Resiliência:
O autor explora uma variedade de padrões de resiliência, como Circuit Breaker, Bulkhead, Timeout, e Retry. Cada padrão é detalhadamente explicado, oferecendo insights sobre quando e como aplicá-los para proteger os sistemas contra falhas e garantir a continuidade operacional.</p>
<p>Monitoramento e Detecção de Problemas:
Nygard destaca a importância do monitoramento eficaz e da detecção precoce de problemas. Ele fornece estratégias para implementar sistemas de monitoramento que oferecem visibilidade em tempo real do desempenho do sistema e que alertam proativamente sobre possíveis falhas.</p>
<p>Desenvolvimento Orientado por Metas (Goal-Oriented Development):
O livro defende a abordagem de desenvolvimento orientado por metas, incentivando os desenvolvedores a pensar nas metas e expectativas do negócio ao projetar e implementar sistemas. Isso ajuda a criar sistemas mais alinhados com as necessidades reais da organização.</p>
<p>Estudos de Caso e Experiências Práticas:
Nygard enriquece o livro com uma variedade de estudos de caso e experiências práticas da vida real. Ele compartilha histórias de falhas notáveis em sistemas de grande escala, destacando lições valiosas aprendidas com esses incidentes.</p>
<p>Gerenciamento de Incidentes:
O autor aborda o gerenciamento eficaz de incidentes, discutindo a importância de uma resposta rápida e coordenada a problemas. Ele fornece orientações sobre como formar equipes de resposta a incidentes e implementar processos eficientes para lidar com crises.</p>
<p>Garantindo a Disponibilidade:
Nygard explora estratégias para garantir a disponibilidade contínua de sistemas, incluindo técnicas para lidar com tráfego inesperado, atualizações de software sem interrupções e o uso eficaz de arquiteturas distribuídas.</p>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="defining-stability-pg-24-25">Defining stability (pg 24-25)<a href="#defining-stability-pg-24-25" class="hash-link" aria-label="Direct link to Defining stability (pg 24-25)" title="Direct link to Defining stability (pg 24-25)">​</a></h4>
<p>The terms impulse and stress come from mechanical engineering. An impulse is a rapid shock to the system. An impulse to the system is when something whacks it with a hammer.
In contrast, stress to the system is a force applied to the system over an extended period.</p>
<p>Examples:
A flash mob pounding the PS6 product detail page, thanks to a rumor that such a thing exists, cause an impulse. Ten thousand new sessions, all arriving within one minute of each other, is very difficult for any service instance to withstand.
A celebrity tweet about your site is an impulse. Dumping twelve million messages into a queue at midnight on November 21 is an impulse. These thing can facture the system in the blink of an eye.</p>
<p>On the other hand, getting slow response from your credit card processor because it doesn&#x27;t have enough capacity for all of its customers is a stress to the system. In a mechanical system, a material changes shape when stress is applied.
This change in shape is called the <code>strain</code>. Stress produces strain. The same thing happens with computer systems. The stress from the credit card processor will cause strain to propagate to other parts of the system, which can produce odd effects.
It could manifest as higher RAM usage on the web servers or excess I/O rates on the database server or as some other far distant effect.</p>
<p>So how do you find these kinds of bugs? The only way you can catch them before they bite you in production is to run your own longevity tests. If you can, set aside a developer machine. Have it run JMeter, Marathon, or some other load-testing tool.
Don&#x27;t hit the system hard; just keep driving requests all the time. (Also, be sure to have the scripts slack for a few hours a day to simulate the slow period during the middle of the night. That will catch connection pool and firewall timeouts.)</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="chain-of-failure-pg-29">Chain of Failure (pg 29)<a href="#chain-of-failure-pg-29" class="hash-link" aria-label="Direct link to Chain of Failure (pg 29)" title="Direct link to Chain of Failure (pg 29)">​</a></h4>
<p>Underneath  every  system  outage  is  a  chain  of  events  like  this.  One  small
issue leads to another, which leads to another. Looking at the entire chain
of failure after the fact, the failure seems inevitable.</p>
<p>Fault: A condition that creates an incorrect internal state in your software.
A fault may be due to a latent bug that gets triggered, or it may be due
to an unchecked condition at a boundary or external interface.</p>
<p>Error: Visibly incorrect behavior. When your trading system suddenly buys
ten billion dollars of Pokemon futures, that is an error.</p>
<p>Failure: An unresponsive system. When a system doesn’t respond, we say it
has failed. Failure is in the eye of the beholder...a computer may have
the power on but not respond to any requests.</p>
<p>One way to prepare for every possible failure is to look at every external call,
every I/O, every use of resources, and every expected outcome and ask, “What
are all the ways this can go wrong?” Think about the different types of impulse
and stress that can be applied:
• What if it can’t make the initial connection?
• What if it takes ten minutes to make the connection?
• What if it can make the connection and then gets disconnected?
• What if it can make the connection but doesn’t get a response from the
other end?
• What if it takes two minutes to respond to my query?
• What if 10,000 requests come in at the same time?
• What if the disk is full when the application tries to log the error message
about the SQLException that happened because the network was bogged
down with a worm?</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Every architecture diagram ever drawn has boxes and arrows, similar to the
ones in the following figure. (A new architect will focus on the boxes; an
experienced one is more interested in the arrows.)</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="transmission-control-protocol-tcp">Transmission Control Protocol (TCP)<a href="#transmission-control-protocol-tcp" class="hash-link" aria-label="Direct link to Transmission Control Protocol (TCP)" title="Direct link to Transmission Control Protocol (TCP)">​</a></h4>
<ul>
<li>“three-way handshake” to establish a connection</li>
</ul>
<p>The connection starts when the caller (the client in this scenario, even though
it is itself a server for other applications) sends a SYN packet to a port on the</p>
<p>remote server. If nobody is listening to that port, the remote server immedi-
ately sends back a TCP “reset” packet to indicate that nobody’s home. The</p>
<p>calling application then gets an exception or a bad return value. All this happens very quickly, in less than ten milliseconds if both machines are
plugged into the same switch.</p>
<p>If the remote server is listening on that port, it sends back a SYN-ACK packet to acknowledge the connection. The caller then sends an ACK packet to acknowledge the acknowledgment. The connection is now established, and the two applications can start sending data back and forth.</p>
<p>Suppose, though, that the remote application is listening to the port but is
absolutely hammered with connection requests, until it can no longer service
the incoming connections. The port itself has a “listen queue” that defines
how many pending connections (SYN sent, but no SYN/ACK replied) are
allowed by the network stack. Once that listen queue is full, further connection
attempts are refused quickly. The listen queue is the worst place to be. While
the socket is in that partially formed state, whichever thread called open() is
blocked inside the OS kernel until the remote application finally gets around</p>
<p>to accepting the connection or until the connection attempt times out. Con-
nection timeouts vary from one operating system to another, but they’re</p>
<p>usually measured in minutes! The calling application’s thread could be blocked
waiting for the remote server to respond for ten minutes!</p>
<p>Network failures can hit you in two ways: fast or slow. Fast network failures
cause immediate exceptions in the calling code. “Connection refused” is a very
fast failure; it takes a few milliseconds to come back to the caller. Slow failures,
such as a dropped ACK, let threads block for minutes before throwing exceptions.
The blocked thread can’t process other transactions, so overall capacity is
reduced. If all threads end up getting blocked, then for all practical purposes,
the server is down. Clearly, a slow response is a lot worse than no response.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>A socket is an endpoint of a bidirectional communication between two programs running on the network. A socket is bound to a port number so that the TCP layer can identify the application that data is destined to be sent to. An endpoint is a combination of an IP address and a port number. Every TCP connection can be uniquely identified by its two endpoints. That way you can have multiple connections between your host and the server.</p></div></div>
<p>Ways that such an integration point can harm the caller:
• The provider may accept the TCP connection but never respond to the
HTTP request.
• The provider may accept the connection but not read the request. If the
request body is large, it might fill up the provider’s TCP window. That
causes the caller’s TCP buffers to fill, which will cause the socket write
to block. In this case, even sending the request will never finish.
• The provider may send back a response status the caller doesn’t know
how to handle. Like “418 I’m a teapot.” Or more likely, “451 Resource
censored.”
• The provider may send back a response with a content type the caller
doesn’t expect or know how to handle, such as a generic web server 404
page in HTML instead of a JSON response. (In an especially pernicious
example, your ISP may inject an HTML page when your DNS lookup fails.)
• The provider may claim to be sending JSON but actually sending plain
text. Or kernel binaries. Or Weird Al Yankovic MP3s.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="countering-integration-point-problems-pg-45">Countering Integration Point Problems (pg 45)<a href="#countering-integration-point-problems-pg-45" class="hash-link" aria-label="Direct link to Countering Integration Point Problems (pg 45)" title="Direct link to Countering Integration Point Problems (pg 45)">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="what-can-you-do-to-make-integration-points-safer">What can you do to make integration points safer?<a href="#what-can-you-do-to-make-integration-points-safer" class="hash-link" aria-label="Direct link to What can you do to make integration points safer?" title="Direct link to What can you do to make integration points safer?">​</a></h4>
<p>The most effective stability patterns to combat integration point failures are Circuit Breaker and Decoupling Middleware.</p>
<p>Testing helps, too. Cynical software should handle violations of form and function, such as badly formed headers or abruptly closed connections. To make sure your software is cynical enough, you should make a test harness —a simulator that provides controllable behavior—for each integration test.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="beware-this-necessary-evil">Beware this necessary evil.<a href="#beware-this-necessary-evil" class="hash-link" aria-label="Direct link to Beware this necessary evil." title="Direct link to Beware this necessary evil.">​</a></h5>
<p>Every integration point will eventually fail in some way, and you need to
be prepared for that failure.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="prepare-for-the-many-forms-of-failure">Prepare for the many forms of failure.<a href="#prepare-for-the-many-forms-of-failure" class="hash-link" aria-label="Direct link to Prepare for the many forms of failure." title="Direct link to Prepare for the many forms of failure.">​</a></h5>
<p>Integration point failures take several forms, ranging from various network
errors to semantic errors. You will not get nice error responses delivered
through the defined protocol; instead, you’ll see some kind of protocol
violation, slow response, or outright hang.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="know-when-to-open-up-abstractions">Know when to open up abstractions.<a href="#know-when-to-open-up-abstractions" class="hash-link" aria-label="Direct link to Know when to open up abstractions." title="Direct link to Know when to open up abstractions.">​</a></h5>
<p>Debugging integration point failures usually requires peeling back a layer
of abstraction. Failures are often difficult to debug at the application layer
because most of them violate the high-level protocols. Packet sniffers and
other network diagnostics can help.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="failures-propagate-quickly">Failures propagate quickly.<a href="#failures-propagate-quickly" class="hash-link" aria-label="Direct link to Failures propagate quickly." title="Direct link to Failures propagate quickly.">​</a></h5>
<p>Failure in a remote system quickly becomes your problem, usually as a
cascading failure when your code isn’t defensive enough.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="apply-patterns-to-avert-integration-point-problems">Apply patterns to avert integration point problems.<a href="#apply-patterns-to-avert-integration-point-problems" class="hash-link" aria-label="Direct link to Apply patterns to avert integration point problems." title="Direct link to Apply patterns to avert integration point problems.">​</a></h5>
<p>Defensive programming via Circuit Breaker, Timeouts (see Timeouts, on
page 91), Decoupling Middleware, and Handshaking (see Handshaking,
on page 111) will all help you avoid the dangers of integration points.</p>
<p>The dominant architectural style today is the horizontally scaled farm of
commodity hardware. Horizontal scaling means we add capacity by adding
more servers. We sometimes call these “farms.” The alternative, vertical scaling,
means building bigger and bigger servers—adding core, memory, and storage
to hosts. Vertical scaling has its place, but most of our interactive workload
goes to horizontally scaled farms.</p>
<p>If your system scales horizontally, then you will have load-balanced farms or
clusters where each server runs the same applications. The multiplicity of
machines provides you with fault tolerance through redundancy. A single
machine or process can completely bonk while the remainder continues
serving transactions.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chain-reactions-pg-46">Chain Reactions (pg 46)<a href="#chain-reactions-pg-46" class="hash-link" aria-label="Direct link to Chain Reactions (pg 46)" title="Direct link to Chain Reactions (pg 46)">​</a></h3>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="recognize-that-one-server-down-jeopardizes-the-rest">Recognize that one server down jeopardizes the rest.<a href="#recognize-that-one-server-down-jeopardizes-the-rest" class="hash-link" aria-label="Direct link to Recognize that one server down jeopardizes the rest." title="Direct link to Recognize that one server down jeopardizes the rest.">​</a></h5>
<p>A chain reaction happens because the death of one server makes the
others pick up the slack. The increased load makes them more likely to
fail. A chain reaction will quickly bring an entire layer down. Other layers</p>
<p>that depend on it must protect themselves, or they will go down in a cas-
cading failure.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="hunt-for-resource-leaks">Hunt for resource leaks.<a href="#hunt-for-resource-leaks" class="hash-link" aria-label="Direct link to Hunt for resource leaks." title="Direct link to Hunt for resource leaks.">​</a></h5>
<p>Most of the time, a chain reaction happens when your application has a
memory leak. As one server runs out of memory and goes down, the other
servers pick up the dead one’s burden. The increased traffic means they
leak memory faster.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="hunt-for-obscure-timing-bugs">Hunt for obscure timing bugs.<a href="#hunt-for-obscure-timing-bugs" class="hash-link" aria-label="Direct link to Hunt for obscure timing bugs." title="Direct link to Hunt for obscure timing bugs.">​</a></h5>
<p>Obscure race conditions can also be triggered by traffic. Again, if one
server goes down to a deadlock, the increased load on the others makes
them more likely to hit the deadlock too.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="use-autoscaling">Use Autoscaling.<a href="#use-autoscaling" class="hash-link" aria-label="Direct link to Use Autoscaling." title="Direct link to Use Autoscaling.">​</a></h5>
<p>In the cloud, you should create health checks for every autoscaling group.
The scaler will shut down instances that fail their health checks and start
new ones. As long as the scaler can react faster than the chain reaction
propagates, your service will be available.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="defend-with-bulkheads">Defend with Bulkheads.<a href="#defend-with-bulkheads" class="hash-link" aria-label="Direct link to Defend with Bulkheads." title="Direct link to Defend with Bulkheads.">​</a></h5>
<p>Partitioning servers with Bulkheads can prevent chain
reactions from taking out the entire service—though they won’t help the
callers of whichever partition does go down. Use Circuit Breaker on the
calling side for that.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cascading-failures-pg-49">Cascading Failures (pg 49)<a href="#cascading-failures-pg-49" class="hash-link" aria-label="Direct link to Cascading Failures (pg 49)" title="Direct link to Cascading Failures (pg 49)">​</a></h3>
<p>Just as integration points are the number-one source of cracks, cascading
failures are the number-one crack accelerator. Preventing cascading failures
is the very key to resilience. The most effective patterns to combat cascading failures are Circuit Breaker and Timeouts.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="stop-cracks-from-jumping-the-gap">Stop cracks from jumping the gap.<a href="#stop-cracks-from-jumping-the-gap" class="hash-link" aria-label="Direct link to Stop cracks from jumping the gap." title="Direct link to Stop cracks from jumping the gap.">​</a></h5>
<p>A cascading failure occurs when cracks jump from one system or layer
to another, usually because of insufficiently paranoid integration points.
A cascading failure can also happen after a chain reaction in a lower layer.
Your system surely calls out to other enterprise systems; make sure you
can stay up when they go down.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="scrutinize-resource-pools">Scrutinize resource pools.<a href="#scrutinize-resource-pools" class="hash-link" aria-label="Direct link to Scrutinize resource pools." title="Direct link to Scrutinize resource pools.">​</a></h5>
<p>A cascading failure often results from a resource pool, such as a connec-
tion pool, that gets exhausted when none of its calls return. The threads</p>
<p>that get the connections block forever; all other threads get blocked
waiting for connections. Safe resource pools always limit the time a thread
can wait to check out a resource.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="defend-with-timeouts-and-circuit-breaker">Defend with Timeouts and Circuit Breaker.<a href="#defend-with-timeouts-and-circuit-breaker" class="hash-link" aria-label="Direct link to Defend with Timeouts and Circuit Breaker." title="Direct link to Defend with Timeouts and Circuit Breaker.">​</a></h5>
<p>A cascading failure happens after something else has already gone wrong.
Circuit Breaker protects your system by avoiding calls out to the troubled
integration point. Using Timeouts ensures that you can come back from
a call out to the troubled point.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="heap-memory-pg-52">Heap Memory (pg 52)<a href="#heap-memory-pg-52" class="hash-link" aria-label="Direct link to Heap Memory (pg 52)" title="Direct link to Heap Memory (pg 52)">​</a></h3>
<p>One such hard limit is memory available, particularly in interpreted or managed code languages. Excess traffic can stress the memory system in several ways. Assume you use memory-based sessions, the session stays resident in memory for a certain length of time after the last request from that user.</p>
<p>During that dead time, the session still occupies valuable memory. Every object you put into the session sits there in memory, tying up precious bytes that could be serving some other user.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="off-heap-memory-off-host-memory">Off-Heap Memory, Off-Host Memory<a href="#off-heap-memory-off-host-memory" class="hash-link" aria-label="Direct link to Off-Heap Memory, Off-Host Memory" title="Direct link to Off-Heap Memory, Off-Host Memory">​</a></h5>
<p>Another effective way to deal with per-user memory is to farm it out to a dif-
ferent process. Instead of keeping it inside the heap—that is, inside the address
space of your server’s process—move it out to some other process. Memcached
is a great tool for this.3 It’s essentially an in-memory key-value store that you
can put on a different machine or spread across several machines.</p>
<p>Redis is another popular tool for moving memory out of your process.4 It’s a
fast “data structure server” that lives in a space between cache and database.
Many systems use Redis to hold session data instead of keeping it in memory
or in a relational database.</p>
<p>Any  of  these  approaches  exercise  a  trade-off  between  total  addressable
memory  size  and  latency  to  access  it.  This  notion  of  memory  hierarchy  is
ranked  by  size  and  distance.  Registers  are  fastest  and  closest  to  the  CPU,
followed by cache, local memory, disk, tape, and so on. On one hand, networks
have gotten fast enough that “someone else’s memory” can be faster to access
than local disk. Your application is better off making a remote call to get a
value than reading it from storage. On the other hand, local memory is still
faster than remote memory. There’s no one-size-fits-all answer.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/release-it/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/my-docs/docs/debezium-and-cdc/references"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">references</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-padrões-de-resiliência" class="table-of-contents__link toc-highlight">1. Padrões de Resiliência:</a></li><li><a href="#2-monitoramento-eficaz" class="table-of-contents__link toc-highlight">2. Monitoramento Eficaz:</a></li><li><a href="#3-desenvolvimento-orientado-por-metas" class="table-of-contents__link toc-highlight">3. Desenvolvimento Orientado por Metas:</a></li><li><a href="#4-estudos-de-caso-e-experiências-práticas" class="table-of-contents__link toc-highlight">4. Estudos de Caso e Experiências Práticas:</a></li><li><a href="#5-gerenciamento-de-incidentes" class="table-of-contents__link toc-highlight">5. Gerenciamento de Incidentes:</a></li><li><a href="#6-garantindo-a-disponibilidade" class="table-of-contents__link toc-highlight">6. Garantindo a Disponibilidade:</a></li><li><a href="#7-resiliência-em-arquiteturas-distribuídas" class="table-of-contents__link toc-highlight">7. Resiliência em Arquiteturas Distribuídas:</a></li><li><a href="#countering-integration-point-problems-pg-45" class="table-of-contents__link toc-highlight">Countering Integration Point Problems (pg 45)</a></li><li><a href="#chain-reactions-pg-46" class="table-of-contents__link toc-highlight">Chain Reactions (pg 46)</a></li><li><a href="#cascading-failures-pg-49" class="table-of-contents__link toc-highlight">Cascading Failures (pg 49)</a></li><li><a href="#heap-memory-pg-52" class="table-of-contents__link toc-highlight">Heap Memory (pg 52)</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>